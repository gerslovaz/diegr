<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>3D scalp plot animation in time — animate_scalp • diegr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="3D scalp plot animation in time — animate_scalp"><meta name="description" content="Display a topographic 3D scalp animation of the change in amplitude over time. The function enables direct rendering in Rstudio Viewer or saving the animation in MP4 format or individual frames in PNG format to the chosen location."><meta property="og:description" content="Display a topographic 3D scalp animation of the change in amplitude over time. The function enables direct rendering in Rstudio Viewer or saving the animation in MP4 format or individual frames in PNG format to the chosen location."><meta property="og:image" content="https://gerslovaz.github.io/diegr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">diegr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/diegr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Database-workflows-for-HD-EEG-data-in-R.html">Database workflows for HD-EEG data in R</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>3D scalp plot animation in time</h1>

      <div class="d-none name"><code>animate_scalp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Display a topographic 3D scalp animation of the change in amplitude over time. The function enables direct rendering in Rstudio Viewer or saving the animation in MP4 format or individual frames in PNG format to the chosen location.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">animate_scalp</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">amplitude</span>,</span>
<span>  <span class="va">mesh</span>,</span>
<span>  <span class="va">tri</span>,</span>
<span>  coords <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  template <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  col_range <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  col_scale <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sec <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  frames_dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  framerate <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  cleanup <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>An input data frame or tibble with at least this required columns: <code>time</code> - the number of time point, <code>sensor</code> - the sensor label and the column with the EEG amplitude to plot specified in the argument <code>amplitude</code>.</p></dd>


<dt id="arg-amplitude">amplitude<a class="anchor" aria-label="anchor" href="#arg-amplitude"></a></dt>
<dd><p>A character string naming the column with EEG amplitude values.</p></dd>


<dt id="arg-mesh">mesh<a class="anchor" aria-label="anchor" href="#arg-mesh"></a></dt>
<dd><p>An object of class <code>"mesh"</code> (or a named list with the same structure) used for computing IM model. If not defined, the polygon point mesh with default settings from <code><a href="point_mesh.html">point_mesh</a></code> function is used. See <code><a href="scalp_plot.html">scalp_plot</a></code> for details about the structure.</p></dd>


<dt id="arg-tri">tri<a class="anchor" aria-label="anchor" href="#arg-tri"></a></dt>
<dd><p>A matrix with indices of the triangles. If missing, the triangulation is computed using <code><a href="make_triangulation.html">make_triangulation</a></code> function from <code>D2</code> element of the mesh.</p></dd>


<dt id="arg-coords">coords<a class="anchor" aria-label="anchor" href="#arg-coords"></a></dt>
<dd><p>Sensor coordinates as a tibble or data frame with named <code>x</code>, <code>y</code> and <code>z</code> columns of sensor coordinates and <code>sensor</code> column with sensor names. If not defined, the HCGSN256 template is used.</p></dd>


<dt id="arg-template">template<a class="anchor" aria-label="anchor" href="#arg-template"></a></dt>
<dd><p>The kind of sensor template montage used. Currently the only available option is <code>"HCGSN256"</code> denoting the 256-channel HydroCel Geodesic Sensor Net v.1.0, which is also a default setting.</p></dd>


<dt id="arg-col-range">col_range<a class="anchor" aria-label="anchor" href="#arg-col-range"></a></dt>
<dd><p>A vector with minimum and maximum value of the amplitude used in the colour palette for plotting. If not defined, the range of interpolated signal is used.</p></dd>


<dt id="arg-col-scale">col_scale<a class="anchor" aria-label="anchor" href="#arg-col-scale"></a></dt>
<dd><p>Optionally, a colour scale to be utilised for plotting. If not defined, it is computed from <code>col_range</code>.</p></dd>


<dt id="arg-sec">sec<a class="anchor" aria-label="anchor" href="#arg-sec"></a></dt>
<dd><p>The time interval used between individual animation frames, in seconds (default: 0.3).</p></dd>


<dt id="arg-frames-dir">frames_dir<a class="anchor" aria-label="anchor" href="#arg-frames-dir"></a></dt>
<dd><p>Directory where the individual frames will be saved. If NULL, the video is only displayed in viewer and the frames are not saved.</p></dd>


<dt id="arg-output-path">output_path<a class="anchor" aria-label="anchor" href="#arg-output-path"></a></dt>
<dd><p>Optional path to the output mp4 video file (".mp4" extension is required for correct rendering). If NULL, no video is created.</p></dd>


<dt id="arg-framerate">framerate<a class="anchor" aria-label="anchor" href="#arg-framerate"></a></dt>
<dd><p>Number of frames per second for the output mp4 video (default: 3).</p></dd>


<dt id="arg-cleanup">cleanup<a class="anchor" aria-label="anchor" href="#arg-cleanup"></a></dt>
<dd><p>Logical. Indicates, if all the PNG files should be deleted after encoding video. Default value is <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The output depends on the provided arguments:</p><ul><li><p>If <code>frames_dir</code> is specified, individual animation frames (PNG) are saved to that directory.</p></li>
<li><p>If also <code>output_path</code> is specified, a video (MP4) is created and saved using the <code>av</code> package.</p></li>
<li><p>Otherwise, the animation is displayed in an interactive rgl window.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Setting the parameter <code>tri</code> requires defining a <code>mesh</code> parameter.
The parameter <code>mesh</code> should optimally be a <code>"mesh"</code> object (output from <code><a href="point_mesh.html">point_mesh</a></code> function) or a list with the same structure (see <code><a href="point_mesh.html">point_mesh</a></code> for more information). In that case, setting the argument <code>tri</code> is optional, and if it is absent, a triangulation based on the <code>D2</code> element of the mesh is calculated and used in the plot.
If the input <code>mesh</code> contains only 3D coordinates of a point mesh in <code>D3</code> element, the use of previously created triangulation (through <code>tri</code> argument) is required.</p>
<p>Notes:
For exporting the video, setting <code>frames_dir</code> together with <code>output_path</code> is required.</p>
<p>When specifying the <code>coords</code> and <code>template</code> at the same time, the <code>template</code> parameter takes precedence and the <code>coords</code> parameter is ignored.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Static version: <code><a href="scalp_plot.html">scalp_plot</a></code>, animated 2D topo map: <code><a href="animate_topo.html">animate_topo</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># This example may take a few seconds to render.</span></span></span>
<span class="r-in"><span><span class="co"># Run only if you want to generate the full animation.</span></span></span>
<span class="r-in"><span><span class="co"># Note: The example opens a rgl 3D viewer.</span></span></span>
<span class="r-in"><span><span class="co"># Prepare a data structure:</span></span></span>
<span class="r-in"><span><span class="va">s1e05</span> <span class="op">&lt;-</span> <span class="fu"><a href="pick_data.html">pick_data</a></span><span class="op">(</span><span class="va">epochdata</span>, subject_rg <span class="op">=</span> <span class="fl">1</span>, epoch_rg <span class="op">=</span> <span class="fl">5</span>, time_rg <span class="op">=</span> <span class="fl">10</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Plot animation with default mesh and triangulation:</span></span></span>
<span class="r-in"><span><span class="fu">animate_scalp</span><span class="op">(</span><span class="va">s1e05</span>, amplitude <span class="op">=</span> <span class="st">"signal"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zdeňka Geršlová.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

