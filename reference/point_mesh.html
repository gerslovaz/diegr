<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create regular mesh of points — point_mesh • diegr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create regular mesh of points — point_mesh"><meta name="description" content='Function creates an object of class "mesh", which is a list of data frames with coordinates of a regular (in the sense of the equidistant distance between mesh nodes) mesh of points on the space defined by sensor coordinates. Circular or polygonal shape of the result mesh is available.
For the equivalence between 2D and 3D mesh and the possibility to compare models in different dimensions, the thin-plate spline interpolation model \(\mathbb{R}^2 \rightarrow \mathbb{R}^3\) is used for creating 3D mesh.'><meta property="og:description" content='Function creates an object of class "mesh", which is a list of data frames with coordinates of a regular (in the sense of the equidistant distance between mesh nodes) mesh of points on the space defined by sensor coordinates. Circular or polygonal shape of the result mesh is available.
For the equivalence between 2D and 3D mesh and the possibility to compare models in different dimensions, the thin-plate spline interpolation model \(\mathbb{R}^2 \rightarrow \mathbb{R}^3\) is used for creating 3D mesh.'><meta property="og:image" content="https://gerslovaz.github.io/diegr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">diegr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/diegr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Database-workflows-for-HD-EEG-data-in-R.html">Database workflows for HD-EEG data in R</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create regular mesh of points</h1>

      <div class="d-none name"><code>point_mesh.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function creates an object of class <code>"mesh"</code>, which is a list of data frames with coordinates of a regular (in the sense of the equidistant distance between mesh nodes) mesh of points on the space defined by sensor coordinates. Circular or polygonal shape of the result mesh is available.
For the equivalence between 2D and 3D mesh and the possibility to compare models in different dimensions, the thin-plate spline interpolation model \(\mathbb{R}^2 \rightarrow \mathbb{R}^3\) is used for creating 3D mesh.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">point_mesh</span><span class="op">(</span></span>
<span>  dimension <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  <span class="va">r</span>,</span>
<span>  template <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sensor_select <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  own_coordinates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"polygon"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dimension">dimension<a class="anchor" aria-label="anchor" href="#arg-dimension"></a></dt>
<dd><p>A number (or a vector) indicating a dimension of the mesh: <code>2</code> for two dimensional, <code>3</code> for three dimensional mesh and <code>c(2,3)</code> for both of them in one output (default setting).</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Optionally, the required number of mesh points. Default setting is <code>n = 10 000</code>.</p></dd>


<dt id="arg-r">r<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>Optionally, desired radius of a circular mesh. If not defined, it is computed from the convex hull of sensor locations, based on maximum Euclidean distance from centroid.</p></dd>


<dt id="arg-template">template<a class="anchor" aria-label="anchor" href="#arg-template"></a></dt>
<dd><p>A character denoting sensor template montage used. Currently the only available option is <code>"HCGSN256"</code> denoting the 256-channel HydroCel Geodesic Sensor Net v.1.0.</p></dd>


<dt id="arg-sensor-select">sensor_select<a class="anchor" aria-label="anchor" href="#arg-sensor-select"></a></dt>
<dd><p>Optionally, a vector with sensor labels to select from the template. If not defined, all sensors from the template montage are used to create a mesh.</p></dd>


<dt id="arg-own-coordinates">own_coordinates<a class="anchor" aria-label="anchor" href="#arg-own-coordinates"></a></dt>
<dd><p>Optionally, a list with own sensor coordinates for mesh building. See Details for more information.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>A character indicating the shape of the mesh with 2 possible values: <code>"circle"</code> for circular mesh, <code>"polygon"</code> for irregular polygon shape with boundaries defined by sensor locations (default).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a list of class <code>"mesh"</code> containing some (or all) of the following components:</p>
<dl><dt>D2</dt>
<dd><p>A data frame with <code>x</code> and <code>y</code> coordinates of the created two dimensional point mesh.</p></dd>

<dt>D3</dt>
<dd><p>A data frame with <code>x</code>, <code>y</code> and <code>z</code> coordinates of the created three dimensional point mesh.</p></dd>

<dt>template</dt>
<dd><p>A character indicating the template of the sensor coordinates used for mesh computing.</p></dd>

<dt>r</dt>
<dd><p>A radius of the circle used for mesh creating.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If neither <code>template</code> nor <code>own_coordinates</code> is specified, <code>"HCGSN256"</code> template is used to create the mesh.</p>
<p>In the case of using Geodesic Sensor Net (<code>template = 'HCGSN256'</code>), the (0,0) point of the resulting 2D mesh corresponds to a reference electrode located at the vertex.</p>
<p>The number <code>n</code> for controlling the mesh density is only an approximate value. The final number of mesh nodes depends on the exact shape of the polygon (created as a convex hull of the sensor locations), and is only close to, not exactly equal to, the number <code>n</code>.</p>
<p>The <code>own_coordinates</code> enables computing a mesh from user's own sensor locations. The input must be a list containing following elements:</p><ul><li><p><code>D2</code> a tibble or data frame with sensor coordinates in named <code>x</code> and <code>y</code> columns,</p></li>
<li><p><code>D3</code> a tibble or data frame with sensor coordinates in named <code>x</code>, <code>y</code> and <code>z</code> columns.</p></li>
</ul><p>To build the appropriate meshes in both dimensions, it is necessary to have the input of 3D sensor locations and their corresponding projection onto a plane; the function itself does not perform this projection.
It is also necessary to keep the same sensor locations order in <code>D2</code> and <code>D3</code> part of the coordinates.</p>
<p>Note: When specifying the <code>own_coordinates</code> and <code>template</code> at the same time, the <code>template</code> parameter takes precedence and the <code>own_coordinates</code> parameter is ignored.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>EGI Geodesic Sensor Net Technical Manual (2024)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Computing circle 2D mesh with starting number 4000 points for HCGSN256 template</span></span></span>
<span class="r-in"><span><span class="co"># using all electrodes</span></span></span>
<span class="r-in"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu">point_mesh</span><span class="op">(</span>dimension <span class="op">=</span> <span class="fl">2</span>, n <span class="op">=</span> <span class="fl">4000</span>, template <span class="op">=</span> <span class="st">"HCGSN256"</span>, type <span class="op">=</span> <span class="st">"circle"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Computing polygon 3D mesh with starting number 2000 points and own coordinates</span></span></span>
<span class="r-in"><span><span class="co">## Note: the coordinates are the same as for HCGSN256 template, it is</span></span></span>
<span class="r-in"><span><span class="co">## just a mod example of using the own_coordinates parameter</span></span></span>
<span class="r-in"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu">point_mesh</span><span class="op">(</span>dimension <span class="op">=</span> <span class="fl">3</span>, n <span class="op">=</span> <span class="fl">2000</span>, own_coordinates <span class="op">=</span> <span class="va">HCGSN256</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The X_P matrix is ill-conditioned (kappa = 1.76e+12 ) and the results from solve() could be inaccurate.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Computing coordinates of a polygon mesh in 2D and 3D in one step (starting number 3000 points),</span></span></span>
<span class="r-in"><span><span class="co"># using 204 electrodes selected for epochdata</span></span></span>
<span class="r-in"><span><span class="co"># a) create vector with selected sensor labels</span></span></span>
<span class="r-in"><span><span class="va">sensors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">epochdata</span><span class="op">$</span><span class="va">sensor</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># b) create a mesh for selected sensors using sensor_select parameter</span></span></span>
<span class="r-in"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu">point_mesh</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3000</span>, template <span class="op">=</span> <span class="st">"HCGSN256"</span>, sensor_select <span class="op">=</span> <span class="va">sensors</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zdeňka Geršlová.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

